<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Get Sum</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

    <script>

function blackOrWhiteKey(keyPressCount) {
    if (keyPressCount%88===0) {
        return "white"
    }
    else {
        var key = keyPressCount%88;
        var octave = key%12;
        //console.log(key, octave);
        if (octave===0||octave===2||octave===5||octave===7||octave===10) {
        return "black";
        }
        else {
        return "white";
        } 
    }  
}

//console.log(blackOrWhiteKey(88));

// class FileNameExtractor {
//     static extractFileName (dirtyFileName) {
//         var myRegexp = /(?<=_)(\w*).(\w*)/; 
//         var match = myRegexp.exec(dirtyFileName); 
//         return match[0];   
//     }
// }

//  var myRegexp = /(?<=_)([a-z_-]*)\.\w*/gi;

// console.log(FileNameExtractor.extractFileName("1231231223123131_FILE_NAME.EXTENSION.OTHEREXTENSION"));

// function duplicateEncode(word){
//   var answer = [];
//   var testWord = word.toLowerCase();
//    for (i=0; i<testWord.length; i++) {
//      var repeat = false;
//      if (word) {
//        for(j=0; j<testWord.length; j++) {
//          if (testWord[i]===testWord[j] && i!==j) {
//            repeat = true;
//            console.log(testWord[i], testWord[j], i, j, repeat);
//          }
//        }
//        if (repeat) {
//          answer.push(')');
//        }
//        else {
//          answer.push('(');
//        }
//       }
//    }
//    return answer.join("");
// }

// console.log(duplicateEncode("recede"));

// function incrementString (strng) {
//   if (isNaN(strng[strng.length-1])){
//       return strng + "1";
//   }
//   else{
//       var i, position;
//       for (i=strng.length-1;i>=0;i--) {
//           if (isNaN(strng[i])) {
//               position = i;
//               break;
//           }
//       }
//       if (strng[position+1]==0) {
//           var length = (strng.substring(position+1,strng.length)).length;
//           var num = parseInt(strng.substring(position+1,strng.length))+1;
//           var str = '' + num;
//         if ((num.toString()).length> ((parseInt(strng.substring(position+1,strng.length))).toString()).length) {
//             while (str.length <= length) {
//                 str = '0' + str;
//               }
//         }
//         else {
//             while (str.length < length) {
//                 str = '0' + str;
//             }
//         }
//           return strng.substring(0,position+1) + str;
//       }
//       else {
//         return strng.substring(0,position+1) + (parseInt(strng.substring(position+1,strng.length))+1);
//       }
//   }
// }
        
// function incrementString (strng) {
//   if (isNaN(strng[strng.length-1])){
//       return strng + "1";
//   }
//   else{
//       var i, position;
//       for (i=strng.length-1;i>=0;i--) {
//           if (isNaN(strng[i])) {
//               position = i;
//               break;
//           }
//       }
//       if (strng[position+1]==0) {
//           var length = (strng.substring(position+1,strng.length)).length;
//           var num = parseInt(strng.substring(position+1,strng.length))+1;
//           var str = '' + num;
//         if (num.length> (parseInt(strng.substring(position+1,strng.length))).length) {
//             while (str.length <= length) {
//                 str = '0' + str;
//               }
//         }
//         else {
//             while (str.length < length) {
//                 str = '0' + str;
//             }
//         }
//           return strng.substring(0,position+1) + str;
//       }
//       else {
//         return strng.substring(0,position+1) + (parseInt(strng.substring(position+1,strng.length))+1);
//       }
//   }
// }

// console.log(incrementString("foobar001"));
// console.log(incrementString("foobar09"));

function stat(strg) {
    let timeArr = strg.split(", ");
    let resultArr = [];
    for (i=0; i<timeArr.length; i++) {
        var result = timeArr[i].split("|");
        resultArr.push(parseInt(result[0])*60*60 + parseInt(result[1])*60 + parseInt(result[2]));
    }
    let sorted = resultArr.sort(function(a, b){return a-b});
    let range = sorted[resultArr.length-1] - sorted[0];
    var sum, avg = 0;
    if (resultArr.length) {
        sum = resultArr.reduce(function(a,b) 
        { return a + b });
        avg = sum/resultArr.length;
    }
    let mean;
    if (resultArr.length%2!==0) {
        mean = resultArr[Math.floor(resultArr.length/2)];
    }
    else {
        mean = (resultArr[(resultArr.length/2)] + resultArr[(resultArr.length/2)-1])/2;
    }
    function conversion(time) {
        var date = new Date(null);
        date.setSeconds(time); // specify value for SECONDS here
        var result = date.toISOString().substr(11, 8);
        return result.split(":").join("|");
    }

    return "Range: " + conversion(range) + " Average: " + conversion(avg) + " Median: " + conversion(mean);
}

console.log(stat("02|15|59, 2|47|16, 02|17|20, 2|32|34, 2|32|34, 2|17|17"));

console.log("Range: 00|31|17 Average: 02|27|10 Median: 02|24|57");


        </script>

</body>
</html>